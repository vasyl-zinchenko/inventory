"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[433],{6433:function(e,t,r){r.r(t),r.d(t,{default:function(){return Z}});var s=r(3396),i=r(7139),c=r(4870),o=r(9242),a=r(8574),l=r(34),n=r(657);const u=e=>((0,s.dD)("data-v-9034a55a"),e=e(),(0,s.Cn)(),e),d=["src"],p={class:"product-section-item__title-wrapper"},_={class:"product-section-item__title-wrapper_title"},w={class:"product-section-item__title-wrapper_serial-number"},m={class:"product-section-item__title-wrapper"},v={class:"product-section-item__count_products dateFormat"},f=u((()=>(0,s._)("span",{style:{"font-size":"8px"}},"from ",-1))),b={class:"product-section-item__count_products dateFormat"},h=u((()=>(0,s._)("span",{style:{"font-size":"8px"}},"to",-1))),y={class:"product-section-item__status"},g={class:"product-section-item__title-wrapper"},k={class:"product-section-item__title-wrapper_serial-number"},z={class:"product-section-item__title-wrapper_title"},S={style:{display:"flex","justify-content":"start",width:"100%"}},U={class:"product-section-item__date-from"},P=["onClick"],F=u((()=>(0,s._)("i",{class:"bi bi-trash3-fill",style:{"font-size":"12px"}},null,-1))),x=[F];var C={__name:"ProductItem",setup(e){const t=(0,a.a)(),r=(0,n.L)(),o=(0,s.Fl)((()=>r.orders)),u=e=>e||"",F=(0,s.Fl)((()=>t.products));function C(e,r){t.currentProductId=e,t.currentProduct=r}(0,a.a)().isActive=0!==(0,a.a)().currentId,t.productsWithOrder=(0,s.Fl)((()=>F.value.map((e=>({...e,order:o.value.find((t=>t.id===e.order))})))));const D=(0,s.Fl)((()=>F.value.map((e=>o.value.find((t=>t.id===e.order))))));function L(e,t){return t.toLowerCase().includes(e.toLowerCase())}function N(e){return 0===e?"under repair":"available"}function A(e){return 0===e?"used":"new"}function I(e){t.products=t.products.filter((t=>t.id!==e))}function V(e){return e.slice(0,10).replace(/-/g,"/")}return t.filteredProducts=(0,s.Fl)((()=>t.productsWithOrder.filter((({type:e,title:t})=>{switch((0,l.F)().filterValue){case"Laptops":return"Laptops"===e&&L((0,l.F)().searchQuery,t);case"Monitors":return"Monitors"===e&&L((0,l.F)().searchQuery,t);case"Phones":return"Phones"===e&&L((0,l.F)().searchQuery,t);default:return L((0,l.F)().searchQuery,t)}})))),(0,s.bv)((()=>{t.fetchProducts(),r.fetchOrders()})),(e,r)=>((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,c.SU)(t).filteredProducts,(o=>((0,s.wg)(),(0,s.iD)("section",{class:"product-section-item",key:o.id},[(0,s._)("div",{class:(0,i.C_)([{isAvailableSmbl:"available"===N(o.isNew),isNotAvailableSmbl:"under repair"===N(o.isNew)},"product-section-item_available"])},null,2),(0,s._)("img",{class:"product-section-item__img",src:(0,c.SU)(l.F)().baseImgUrl+o.photo,alt:""},null,8,d),(0,s._)("div",p,[(0,s._)("span",_,(0,i.zw)(o.title),1),(0,s._)("span",w,"SN-"+(0,i.zw)(o.serialNumber),1)]),(0,s._)("span",{class:(0,i.C_)([{isAvailable:"available"===N(o.isNew)},"product-section-item__status"])},(0,i.zw)(N(o.isNew)||"-"),3),(0,s._)("div",m,[(0,s._)("div",v,[f,(0,s.Uk)(" "+(0,i.zw)(V(o.guarantee.start)),1)]),(0,s._)("div",b,[h,(0,s.Uk)(" "+(0,i.zw)(V(o.guarantee.end)),1)])]),(0,s._)("span",y,(0,i.zw)(A(o.isNew)),1),(0,s._)("div",g,[(0,s._)("span",k,(0,i.zw)(o.price[0].value)+" $",1),(0,s._)("span",z,(0,i.zw)(o.price[1].value)+" "+(0,i.zw)(o.price[1].symbol),1)]),(0,s._)("div",S,[o.order.title?((0,s.wg)(),(0,s.iD)("a",{key:0,onClick:r[0]||(r[0]=t=>{(0,c.SU)(D)(e.order.id,e.order,e.order.title),(0,c.SU)(n.L)().isActive=!0}),class:"product-section-item__title_order"},(0,i.zw)(u(o.order.title)),1)):((0,s.wg)(),(0,s.iD)("a",{key:1,href:"#",onClick:r[1]||(r[1]=t=>{(0,c.SU)(D)(e.order.id,e.order),(0,c.SU)(n.L)().isActive=!0}),class:"product-section-item__title_order"}," - "))]),(0,s._)("div",null,[(0,s._)("div",U,(0,i.zw)(V(o.order.date)),1)]),(0,s._)("button",{onClick:e=>{C(o.id,o),(0,c.SU)(t).deleteProductsFromServer((0,c.SU)(t).currentProductId),I(o.id)},class:"btn btn-light btn-sm"},x,8,P)])))),128))}},D=r(89);const L=(0,D.Z)(C,[["__scopeId","data-v-9034a55a"]]);var N=L;const A={class:"product-list"};var I={__name:"ProductsList",setup(e){return(e,t)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("section",A,[((0,s.wg)(),(0,s.j4)(N,{key:(0,c.SU)(l.F)().OrdersProductsKey}))])]))}};const V=I;var O=V;const Q={class:"product"},K={class:"product__wrapper product-section"},M={class:"product-section__title-block"},W={class:"product-section__title-block_headline"},j=(0,s._)("span",{style:{"font-size":"9px",padding:"3px 8px",color:"grey"}},"Type",-1),H=["value"];var T={__name:"ProductsView",setup(e){const t=(0,a.a)(),r=(0,l.F)();return(0,s.bv)((()=>{t.fetchProducts()})),(e,l)=>((0,s.wg)(),(0,s.iD)("section",Q,[(0,s._)("section",K,[(0,s._)("section",M,[(0,s._)("h2",W," Product / "+(0,i.zw)((0,c.SU)(a.a)().filteredProducts.length),1),j,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":l[0]||(l[0]=e=>(0,c.SU)(r).filterValue=e),style:{width:"200px",height:"20px","font-size":"9px",padding:"3px 8px"},class:"form-select","aria-label":"Default select example"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,c.SU)(t).optionsTypeProduct,(e=>((0,s.wg)(),(0,s.iD)("option",{value:e,style:{color:"black"},key:e},(0,i.zw)(e),9,H)))),128))],512),[[o.bM,(0,c.SU)(r).filterValue]])]),(0,s.Wm)((0,c.SU)(O))])]))}};const Y=T;var Z=Y}}]);
//# sourceMappingURL=433.8c391208.js.map